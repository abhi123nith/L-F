{
    "sourceFile": "lib/newCode/Frontend/pages/profile/user_see_page.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1756116854941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1756116871096,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n // lib/Frontend/pages/user_see_page.dart\n import 'package:flutter/material.dart';\n import 'package:firebase_auth/firebase_auth.dart';\n+import 'package:l_f/newCode/Frontend/components/user_profile_view.dart';\n import 'package:l_f/services/profile_service.dart';\n import 'package:l_f/Frontend/components/user_profile_view.dart';\n import 'package:cloud_firestore/cloud_firestore.dart';\n \n"
                },
                {
                    "date": 1756116877764,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,10 @@\n // lib/Frontend/pages/user_see_page.dart\n+import 'package:cloud_firestore/cloud_firestore.dart';\n+import 'package:firebase_auth/firebase_auth.dart';\n import 'package:flutter/material.dart';\n-import 'package:firebase_auth/firebase_auth.dart';\n+import 'package:l_f/Frontend/components/user_profile_view.dart';\n import 'package:l_f/newCode/Frontend/components/user_profile_view.dart';\n-import 'package:l_f/services/profile_service.dart';\n-import 'package:l_f/Frontend/components/user_profile_view.dart';\n-import 'package:cloud_firestore/cloud_firestore.dart';\n \n class UserSeePage extends StatefulWidget {\n   final String uid;\n   const UserSeePage({super.key, required this.uid});\n@@ -16,9 +15,9 @@\n \n class _UserSeePageState extends State<UserSeePage> {\n   final ProfileService _profileService = ProfileService();\n   final User? currentUser = FirebaseAuth.instance.currentUser;\n-  \n+\n   bool _isLoading = true;\n   bool _showPhoneNumber = false;\n   Map<String, dynamic>? _userData;\n \n@@ -39,16 +38,19 @@\n   }\n \n   void _togglePhoneNumber() async {\n     if (currentUser == null) {\n-      ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('You must be logged in to view contact details.')));\n+      ScaffoldMessenger.of(context).showSnackBar(const SnackBar(\n+          content: Text('You must be logged in to view contact details.')));\n       return;\n     }\n-    \n-    if (await _profileService.canShowPhoneNumber(widget.uid, currentUser!.uid)) {\n+\n+    if (await _profileService.canShowPhoneNumber(\n+        widget.uid, currentUser!.uid)) {\n       setState(() => _showPhoneNumber = !_showPhoneNumber);\n     } else {\n-      ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('You cannot view this phone number.')));\n+      ScaffoldMessenger.of(context).showSnackBar(\n+          const SnackBar(content: Text('You cannot view this phone number.')));\n     }\n   }\n \n   @override\n@@ -66,18 +68,30 @@\n         body: const Center(child: Text('User not found')),\n       );\n     }\n \n-    final TextEditingController nameController = TextEditingController(text: _userData!['name'] ?? '');\n-    final TextEditingController emailController = TextEditingController(text: _userData!['email'] ?? '');\n-    final TextEditingController phoneController = TextEditingController(text: _showPhoneNumber ? _userData!['phonenumber'] ?? '' : '****-***-***');\n-    final TextEditingController departmentController = TextEditingController(text: _userData!['department'] ?? '');\n-    final TextEditingController degreeController = TextEditingController(text: _userData!['degree'] ?? '');\n-    final TextEditingController genderController = TextEditingController(text: _userData!['gender'] ?? '');\n-    final TextEditingController hostelController = TextEditingController(text: _userData!['hostel'] ?? '');\n-    final TextEditingController yearController = TextEditingController(text: _userData!['year'] ?? '');\n-    final TextEditingController joinedDateController = TextEditingController(text: (_userData!['joinedDate'] as Timestamp?)?.toDate().toString() ?? '');\n-    \n+    final TextEditingController nameController =\n+        TextEditingController(text: _userData!['name'] ?? '');\n+    final TextEditingController emailController =\n+        TextEditingController(text: _userData!['email'] ?? '');\n+    final TextEditingController phoneController = TextEditingController(\n+        text: _showPhoneNumber\n+            ? _userData!['phonenumber'] ?? ''\n+            : '****-***-***');\n+    final TextEditingController departmentController =\n+        TextEditingController(text: _userData!['department'] ?? '');\n+    final TextEditingController degreeController =\n+        TextEditingController(text: _userData!['degree'] ?? '');\n+    final TextEditingController genderController =\n+        TextEditingController(text: _userData!['gender'] ?? '');\n+    final TextEditingController hostelController =\n+        TextEditingController(text: _userData!['hostel'] ?? '');\n+    final TextEditingController yearController =\n+        TextEditingController(text: _userData!['year'] ?? '');\n+    final TextEditingController joinedDateController = TextEditingController(\n+        text: (_userData!['joinedDate'] as Timestamp?)?.toDate().toString() ??\n+            '');\n+\n     return Scaffold(\n       appBar: AppBar(\n         title: Text('${_userData!['name'] ?? 'User'}\\'s Profile'),\n         backgroundColor: Colors.deepOrange,\n@@ -94,9 +108,10 @@\n         genderController: genderController,\n         hostelController: hostelController,\n         yearController: yearController,\n         joinedDateController: joinedDateController,\n-        isEditable: false, // This is the key difference from the user's own profile\n+        isEditable:\n+            false, // This is the key difference from the user's own profile\n         showPhoneNumber: _showPhoneNumber,\n         onTogglePhoneNumber: _togglePhoneNumber,\n         onEditProfileImage: () {},\n         onSaveProfile: () {},\n"
                },
                {
                    "date": 1756116884787,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,10 @@\n // lib/Frontend/pages/user_see_page.dart\n import 'package:cloud_firestore/cloud_firestore.dart';\n import 'package:firebase_auth/firebase_auth.dart';\n import 'package:flutter/material.dart';\n-import 'package:l_f/Frontend/components/user_profile_view.dart';\n import 'package:l_f/newCode/Frontend/components/user_profile_view.dart';\n+import 'package:l_f/newCode/service/profile_service.dart';\n \n class UserSeePage extends StatefulWidget {\n   final String uid;\n   const UserSeePage({super.key, required this.uid});\n"
                },
                {
                    "date": 1756122980243,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,122 +1,122 @@\n-// lib/Frontend/pages/user_see_page.dart\n-import 'package:cloud_firestore/cloud_firestore.dart';\n-import 'package:firebase_auth/firebase_auth.dart';\n-import 'package:flutter/material.dart';\n-import 'package:l_f/newCode/Frontend/components/user_profile_view.dart';\n-import 'package:l_f/newCode/service/profile_service.dart';\n+// // lib/Frontend/pages/user_see_page.dart\n+// import 'package:cloud_firestore/cloud_firestore.dart';\n+// import 'package:firebase_auth/firebase_auth.dart';\n+// import 'package:flutter/material.dart';\n+// import 'package:l_f/newCode/Frontend/components/user_profile_view.dart';\n+// import 'package:l_f/newCode/service/profile_service.dart';\n \n-class UserSeePage extends StatefulWidget {\n-  final String uid;\n-  const UserSeePage({super.key, required this.uid});\n+// class UserSeePage extends StatefulWidget {\n+//   final String uid;\n+//   const UserSeePage({super.key, required this.uid});\n \n-  @override\n-  _UserSeePageState createState() => _UserSeePageState();\n-}\n+//   @override\n+//   _UserSeePageState createState() => _UserSeePageState();\n+// }\n \n-class _UserSeePageState extends State<UserSeePage> {\n-  final ProfileService _profileService = ProfileService();\n-  final User? currentUser = FirebaseAuth.instance.currentUser;\n+// class _UserSeePageState extends State<UserSeePage> {\n+//   final ProfileService _profileService = ProfileService();\n+//   final User? currentUser = FirebaseAuth.instance.currentUser;\n \n-  bool _isLoading = true;\n-  bool _showPhoneNumber = false;\n-  Map<String, dynamic>? _userData;\n+//   bool _isLoading = true;\n+//   bool _showPhoneNumber = false;\n+//   Map<String, dynamic>? _userData;\n \n-  @override\n-  void initState() {\n-    super.initState();\n-    _fetchUserDetails();\n-  }\n+//   @override\n+//   void initState() {\n+//     super.initState();\n+//     _fetchUserDetails();\n+//   }\n \n-  Future<void> _fetchUserDetails() async {\n-    try {\n-      _userData = await _profileService.fetchUserDetails(widget.uid);\n-    } catch (e) {\n-      print('Error fetching user details: $e');\n-    } finally {\n-      setState(() => _isLoading = false);\n-    }\n-  }\n+//   Future<void> _fetchUserDetails() async {\n+//     try {\n+//       _userData = await _profileService.fetchUserDetails(widget.uid);\n+//     } catch (e) {\n+//       print('Error fetching user details: $e');\n+//     } finally {\n+//       setState(() => _isLoading = false);\n+//     }\n+//   }\n \n-  void _togglePhoneNumber() async {\n-    if (currentUser == null) {\n-      ScaffoldMessenger.of(context).showSnackBar(const SnackBar(\n-          content: Text('You must be logged in to view contact details.')));\n-      return;\n-    }\n+//   void _togglePhoneNumber() async {\n+//     if (currentUser == null) {\n+//       ScaffoldMessenger.of(context).showSnackBar(const SnackBar(\n+//           content: Text('You must be logged in to view contact details.')));\n+//       return;\n+//     }\n \n-    if (await _profileService.canShowPhoneNumber(\n-        widget.uid, currentUser!.uid)) {\n-      setState(() => _showPhoneNumber = !_showPhoneNumber);\n-    } else {\n-      ScaffoldMessenger.of(context).showSnackBar(\n-          const SnackBar(content: Text('You cannot view this phone number.')));\n-    }\n-  }\n+//     if (await _profileService.canShowPhoneNumber(\n+//         widget.uid, currentUser!.uid)) {\n+//       setState(() => _showPhoneNumber = !_showPhoneNumber);\n+//     } else {\n+//       ScaffoldMessenger.of(context).showSnackBar(\n+//           const SnackBar(content: Text('You cannot view this phone number.')));\n+//     }\n+//   }\n \n-  @override\n-  Widget build(BuildContext context) {\n-    if (_isLoading) {\n-      return Scaffold(\n-        appBar: AppBar(title: const Text('Profile')),\n-        body: const Center(child: CircularProgressIndicator()),\n-      );\n-    }\n+//   @override\n+//   Widget build(BuildContext context) {\n+//     if (_isLoading) {\n+//       return Scaffold(\n+//         appBar: AppBar(title: const Text('Profile')),\n+//         body: const Center(child: CircularProgressIndicator()),\n+//       );\n+//     }\n \n-    if (_userData == null) {\n-      return Scaffold(\n-        appBar: AppBar(title: const Text('Profile')),\n-        body: const Center(child: Text('User not found')),\n-      );\n-    }\n+//     if (_userData == null) {\n+//       return Scaffold(\n+//         appBar: AppBar(title: const Text('Profile')),\n+//         body: const Center(child: Text('User not found')),\n+//       );\n+//     }\n \n-    final TextEditingController nameController =\n-        TextEditingController(text: _userData!['name'] ?? '');\n-    final TextEditingController emailController =\n-        TextEditingController(text: _userData!['email'] ?? '');\n-    final TextEditingController phoneController = TextEditingController(\n-        text: _showPhoneNumber\n-            ? _userData!['phonenumber'] ?? ''\n-            : '****-***-***');\n-    final TextEditingController departmentController =\n-        TextEditingController(text: _userData!['department'] ?? '');\n-    final TextEditingController degreeController =\n-        TextEditingController(text: _userData!['degree'] ?? '');\n-    final TextEditingController genderController =\n-        TextEditingController(text: _userData!['gender'] ?? '');\n-    final TextEditingController hostelController =\n-        TextEditingController(text: _userData!['hostel'] ?? '');\n-    final TextEditingController yearController =\n-        TextEditingController(text: _userData!['year'] ?? '');\n-    final TextEditingController joinedDateController = TextEditingController(\n-        text: (_userData!['joinedDate'] as Timestamp?)?.toDate().toString() ??\n-            '');\n+//     final TextEditingController nameController =\n+//         TextEditingController(text: _userData!['name'] ?? '');\n+//     final TextEditingController emailController =\n+//         TextEditingController(text: _userData!['email'] ?? '');\n+//     final TextEditingController phoneController = TextEditingController(\n+//         text: _showPhoneNumber\n+//             ? _userData!['phonenumber'] ?? ''\n+//             : '****-***-***');\n+//     final TextEditingController departmentController =\n+//         TextEditingController(text: _userData!['department'] ?? '');\n+//     final TextEditingController degreeController =\n+//         TextEditingController(text: _userData!['degree'] ?? '');\n+//     final TextEditingController genderController =\n+//         TextEditingController(text: _userData!['gender'] ?? '');\n+//     final TextEditingController hostelController =\n+//         TextEditingController(text: _userData!['hostel'] ?? '');\n+//     final TextEditingController yearController =\n+//         TextEditingController(text: _userData!['year'] ?? '');\n+//     final TextEditingController joinedDateController = TextEditingController(\n+//         text: (_userData!['joinedDate'] as Timestamp?)?.toDate().toString() ??\n+//             '');\n \n-    return Scaffold(\n-      appBar: AppBar(\n-        title: Text('${_userData!['name'] ?? 'User'}\\'s Profile'),\n-        backgroundColor: Colors.deepOrange,\n-        foregroundColor: Colors.white,\n-        elevation: 4.0,\n-      ),\n-      body: UserProfileView(\n-        profileImageUrl: _userData!['profileImage'],\n-        nameController: nameController,\n-        emailController: emailController,\n-        phoneController: phoneController,\n-        departmentController: departmentController,\n-        degreeController: degreeController,\n-        genderController: genderController,\n-        hostelController: hostelController,\n-        yearController: yearController,\n-        joinedDateController: joinedDateController,\n-        isEditable:\n-            false, // This is the key difference from the user's own profile\n-        showPhoneNumber: _showPhoneNumber,\n-        onTogglePhoneNumber: _togglePhoneNumber,\n-        onEditProfileImage: () {},\n-        onSaveProfile: () {},\n-        onEditPressed: () {},\n-      ),\n-    );\n-  }\n-}\n+//     return Scaffold(\n+//       appBar: AppBar(\n+//         title: Text('${_userData!['name'] ?? 'User'}\\'s Profile'),\n+//         backgroundColor: Colors.deepOrange,\n+//         foregroundColor: Colors.white,\n+//         elevation: 4.0,\n+//       ),\n+//       body: UserProfileView(\n+//         profileImageUrl: _userData!['profileImage'],\n+//         nameController: nameController,\n+//         emailController: emailController,\n+//         phoneController: phoneController,\n+//         departmentController: departmentController,\n+//         degreeController: degreeController,\n+//         genderController: genderController,\n+//         hostelController: hostelController,\n+//         yearController: yearController,\n+//         joinedDateController: joinedDateController,\n+//         isEditable:\n+//             false, // This is the key difference from the user's own profile\n+//         showPhoneNumber: _showPhoneNumber,\n+//         onTogglePhoneNumber: _togglePhoneNumber,\n+//         onEditProfileImage: () {},\n+//         onSaveProfile: () {},\n+//         onEditPressed: () {},\n+//       ),\n+//     );\n+//   }\n+// }\n"
                }
            ],
            "date": 1756116854941,
            "name": "Commit-0",
            "content": "// lib/Frontend/pages/user_see_page.dart\nimport 'package:flutter/material.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:l_f/services/profile_service.dart';\nimport 'package:l_f/Frontend/components/user_profile_view.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\n\nclass UserSeePage extends StatefulWidget {\n  final String uid;\n  const UserSeePage({super.key, required this.uid});\n\n  @override\n  _UserSeePageState createState() => _UserSeePageState();\n}\n\nclass _UserSeePageState extends State<UserSeePage> {\n  final ProfileService _profileService = ProfileService();\n  final User? currentUser = FirebaseAuth.instance.currentUser;\n  \n  bool _isLoading = true;\n  bool _showPhoneNumber = false;\n  Map<String, dynamic>? _userData;\n\n  @override\n  void initState() {\n    super.initState();\n    _fetchUserDetails();\n  }\n\n  Future<void> _fetchUserDetails() async {\n    try {\n      _userData = await _profileService.fetchUserDetails(widget.uid);\n    } catch (e) {\n      print('Error fetching user details: $e');\n    } finally {\n      setState(() => _isLoading = false);\n    }\n  }\n\n  void _togglePhoneNumber() async {\n    if (currentUser == null) {\n      ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('You must be logged in to view contact details.')));\n      return;\n    }\n    \n    if (await _profileService.canShowPhoneNumber(widget.uid, currentUser!.uid)) {\n      setState(() => _showPhoneNumber = !_showPhoneNumber);\n    } else {\n      ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text('You cannot view this phone number.')));\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (_isLoading) {\n      return Scaffold(\n        appBar: AppBar(title: const Text('Profile')),\n        body: const Center(child: CircularProgressIndicator()),\n      );\n    }\n\n    if (_userData == null) {\n      return Scaffold(\n        appBar: AppBar(title: const Text('Profile')),\n        body: const Center(child: Text('User not found')),\n      );\n    }\n\n    final TextEditingController nameController = TextEditingController(text: _userData!['name'] ?? '');\n    final TextEditingController emailController = TextEditingController(text: _userData!['email'] ?? '');\n    final TextEditingController phoneController = TextEditingController(text: _showPhoneNumber ? _userData!['phonenumber'] ?? '' : '****-***-***');\n    final TextEditingController departmentController = TextEditingController(text: _userData!['department'] ?? '');\n    final TextEditingController degreeController = TextEditingController(text: _userData!['degree'] ?? '');\n    final TextEditingController genderController = TextEditingController(text: _userData!['gender'] ?? '');\n    final TextEditingController hostelController = TextEditingController(text: _userData!['hostel'] ?? '');\n    final TextEditingController yearController = TextEditingController(text: _userData!['year'] ?? '');\n    final TextEditingController joinedDateController = TextEditingController(text: (_userData!['joinedDate'] as Timestamp?)?.toDate().toString() ?? '');\n    \n    return Scaffold(\n      appBar: AppBar(\n        title: Text('${_userData!['name'] ?? 'User'}\\'s Profile'),\n        backgroundColor: Colors.deepOrange,\n        foregroundColor: Colors.white,\n        elevation: 4.0,\n      ),\n      body: UserProfileView(\n        profileImageUrl: _userData!['profileImage'],\n        nameController: nameController,\n        emailController: emailController,\n        phoneController: phoneController,\n        departmentController: departmentController,\n        degreeController: degreeController,\n        genderController: genderController,\n        hostelController: hostelController,\n        yearController: yearController,\n        joinedDateController: joinedDateController,\n        isEditable: false, // This is the key difference from the user's own profile\n        showPhoneNumber: _showPhoneNumber,\n        onTogglePhoneNumber: _togglePhoneNumber,\n        onEditProfileImage: () {},\n        onSaveProfile: () {},\n        onEditPressed: () {},\n      ),\n    );\n  }\n}\n"
        }
    ]
}