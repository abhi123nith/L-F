{
    "sourceFile": "lib/Frontend/Top/home_screen.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1747559421867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747559427965,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,9 +100,15 @@\n                         Navigator.push(context,\n                             MaterialPageRoute(builder: (_) => MessagesPage()));\n                       },\n                     ),\n-                    \n+                      ResponsiveButton(\n+                      label: \"My List\",\n+                      onPressed: () {\n+                        Navigator.push(context,\n+                            MaterialPageRoute(builder: (_) => MessagesPage()));\n+                      },\n+                    ),\n                     ResponsiveButton(\n                       label: \"Profile\",\n                       onPressed: () {\n                         Navigator.push(\n"
                },
                {
                    "date": 1747559433649,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n                             MaterialPageRoute(builder: (_) => MessagesPage()));\n                       },\n                     ),\n                       ResponsiveButton(\n-                      label: \"My List\",\n+                      label: \"My Chats\",\n                       onPressed: () {\n                         Navigator.push(context,\n                             MaterialPageRoute(builder: (_) => MessagesPage()));\n                       },\n"
                }
            ],
            "date": 1747559421867,
            "name": "Commit-0",
            "content": "import 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\nimport 'package:l_f/Frontend/Home/Post/create_post.dart';\nimport 'package:l_f/Frontend/Home/Post/new.dart';\nimport 'package:l_f/Frontend/Home/home.dart';\nimport 'package:l_f/Frontend/Profile/profile_page.dart';\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return LayoutBuilder(\n      builder: (context, constraints) {\n        bool isMobile = constraints.maxWidth < 700;\n\n        return Scaffold(\n          appBar: AppBar(\n            backgroundColor: Colors.deepOrange,\n            foregroundColor: Colors.white,\n            title: isMobile\n                ? Row(\n                    children: [\n                      // App logo\n                      Image.asset(\n                        'assets/lg.png', // Ensure the image path is correct\n                        height: 75, // Adjust height as needed\n                        width: 75, // Adjust width as needed\n                      ),\n                      const SizedBox(width: 6),\n                    ],\n                  )\n                : Row(\n                    children: [\n                      const SizedBox(width: 16),\n                      // NIT Hamirpur logo\n                      Image.asset(\n                        'assets/lg.png', // Ensure the image path is correct\n                        height: 75, // Adjust height as needed\n                        width: 75, // Adjust width as needed\n                      ),\n                      const SizedBox(width: 16),\n                      const Text(\"CampusTracker\"),\n                    ],\n                  ),\n            actions: isMobile\n                ? [\n                    GestureDetector(\n                      child: Card(\n                        shape: RoundedRectangleBorder(\n                            borderRadius: BorderRadius.circular(7),\n                            side: const BorderSide(\n                                width: 2, color: Colors.white)),\n                        color: Colors.deepOrange,\n                        child: const Padding(\n                          padding: EdgeInsets.all(1.0),\n                          child: Icon(Icons.add, size: 22),\n                        ),\n                      ),\n                      onTap: () {\n                        Navigator.push(\n                            context,\n                            MaterialPageRoute(\n                                builder: (_) => const CreatePostPage()));\n                      },\n                    ),\n                    const SizedBox(width: 10),\n                    IconButton(\n                        onPressed: () {\n                          Navigator.push(\n                              context,\n                              MaterialPageRoute(\n                                  builder: (_) => MessagesPage()));\n                        },\n                        icon: const Icon(Icons.messenger_outline_rounded)),\n                    const SizedBox(width: 10),\n                  ]\n                : [\n                    ResponsiveButton(\n                      label: \"Home\",\n                      onPressed: () {\n                        Navigator.push(\n                            context,\n                            MaterialPageRoute(\n                                builder: (_) => const HomePage()));\n                      },\n                    ),\n                    ResponsiveButton(\n                      label: \"New Post\",\n                      onPressed: () {\n                        Navigator.push(\n                            context,\n                            MaterialPageRoute(\n                                builder: (_) => const CreatePostPage()));\n                      },\n                    ),\n                    ResponsiveButton(\n                      label: \"My List\",\n                      onPressed: () {\n                        Navigator.push(context,\n                            MaterialPageRoute(builder: (_) => MessagesPage()));\n                      },\n                    ),\n                    \n                    ResponsiveButton(\n                      label: \"Profile\",\n                      onPressed: () {\n                        Navigator.push(\n                            context,\n                            MaterialPageRoute(\n                                builder: (_) => const ProfilePage()));\n                      },\n                    ),\n                    IconButton(\n                      icon: const Icon(Icons.logout,\n                          color: Colors.white, size: 21),\n                      onPressed: () {\n                        _showLogoutDialog(context);\n                      },\n                    ),\n                  ],\n          ),\n          drawer: isMobile ? _buildDrawer(context) : null,\n          body: isMobile\n              ? const Center(child: LostFoundPage())\n              : const Column(\n                  children: [\n                    Expanded(\n                      flex: 5,\n                      child: Center(\n                        child: LostFoundPage(),\n                      ),\n                    ),\n                  ],\n                ),\n        );\n      },\n    );\n  }\n\n  Widget _buildSidebar(BuildContext context) {\n    return Drawer(\n      child: ListView(\n        children: [\n          ListTile(\n            title: const Text(\"Home\"),\n            onTap: () {},\n          ),\n          ListTile(\n            title: const Text(\"New Post\"),\n            onTap: () {\n              Navigator.push(context,\n                  MaterialPageRoute(builder: (_) => const CreatePostPage()));\n            },\n          ),\n          ListTile(\n            title: const Text(\"My List\"),\n            onTap: () {\n              Navigator.push(\n                  context, MaterialPageRoute(builder: (_) => MessagesPage()));\n            },\n          ),\n          ListTile(\n            title: const Text(\"Profile\"),\n            onTap: () {\n              Navigator.push(context,\n                  MaterialPageRoute(builder: (_) => const ProfilePage()));\n            },\n          ),\n          ListTile(\n            title: const Text(\"Logout\"),\n            onTap: () {\n              _showLogoutDialog(context);\n            },\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildDrawer(BuildContext context) {\n    return MediaQuery(\n      data: MediaQuery.of(context)\n          .copyWith(textScaler: const TextScaler.linear(1.0)),\n      child: Drawer(\n        child: Column(\n          children: [\n            // Header with logo\n\n            const SizedBox(height: 40),\n            Container(\n              decoration: const BoxDecoration(\n                color: Colors.deepOrange,\n              ),\n              child: Row(\n                children: [\n                  Image.asset(\n                    'assets/logo2.png',\n                    height: 80.0,\n                    width: 80.0,\n                  ),\n                  const SizedBox(width: 8), // Spacing between logo and text\n                  const Text(\n                    'CampusTracker',\n                    style: TextStyle(\n                      fontSize: 24.0,\n                      fontWeight: FontWeight.bold,\n                      color: Colors.white,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n            const SizedBox(height: 0), // Space between header and list items\n            // Drawer menu items\n            Expanded(\n              child: ListView(\n                children: [\n                  ListTile(\n                    title: const Text(\"Home\"),\n                    onTap: () {\n                      Navigator.pop(context);\n                    },\n                  ),\n                  ListTile(\n                    title: const Text(\"New Post\"),\n                    onTap: () {\n                      Navigator.pop(context);\n                      Navigator.push(\n                          context,\n                          MaterialPageRoute(\n                              builder: (_) => const CreatePostPage()));\n                    },\n                  ),\n                  ListTile(\n                    title: const Text(\"My List\"),\n                    onTap: () {\n                      Navigator.pop(context);\n                      Navigator.push(context,\n                          MaterialPageRoute(builder: (_) => MessagesPage()));\n                    },\n                  ),\n                  ListTile(\n                    title: const Text(\"Profile\"),\n                    onTap: () {\n                      Navigator.pop(context);\n                      Navigator.push(\n                          context,\n                          MaterialPageRoute(\n                              builder: (_) => const ProfilePage()));\n                    },\n                  ),\n                ],\n              ),\n            ),\n\n            // Spacer pushes the Logout button to the bottom\n            GestureDetector(\n              child: Container(\n                color: Colors.deepOrange,\n                padding: const EdgeInsets.all(10),\n                child: const Row(\n                  mainAxisAlignment: MainAxisAlignment.center,\n                  children: [\n                    Text(\n                      \"Logout\",\n                      style: TextStyle(\n                          fontSize: 20,\n                          fontWeight: FontWeight.w600,\n                          color: Colors.white),\n                    ),\n                    SizedBox(width: 10),\n                    Icon(\n                      Icons.logout,\n                      color: Colors.white,\n                    ),\n                  ],\n                ),\n              ),\n              onTap: () {\n                Navigator.pop(context);\n                _showLogoutDialog(context);\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Future<void> _handleLogout(BuildContext context) async {\n    try {\n      await FirebaseAuth.instance.signOut();\n      Navigator.pushReplacementNamed(context, '/login');\n    } catch (e) {\n      ScaffoldMessenger.of(context).showSnackBar(\n        SnackBar(\n            backgroundColor: Colors.grey,\n            content: Text('Error signing out: $e')),\n      );\n    }\n  }\n\n  void _showLogoutDialog(BuildContext context) {\n    showDialog(\n      context: context,\n      builder: (BuildContext context) {\n        return AlertDialog(\n          title: const Text(\"Logout\"),\n          content: const Text(\n            \"Are you sure you want to logout?\",\n            style: TextStyle(fontWeight: FontWeight.w700),\n          ),\n          actions: <Widget>[\n            TextButton(\n              child: const Text(\n                \"Cancel\",\n                style: TextStyle(fontWeight: FontWeight.bold),\n              ),\n              onPressed: () {\n                Navigator.of(context).pop();\n              },\n            ),\n            TextButton(\n              child: const Text(\n                \"Logout\",\n                style: TextStyle(fontWeight: FontWeight.bold),\n              ),\n              onPressed: () {\n                _handleLogout(context);\n                Navigator.of(context).pop();\n              },\n            ),\n          ],\n        );\n      },\n    );\n  }\n}\n\nclass ResponsiveButton extends StatelessWidget {\n  final String label;\n  final VoidCallback onPressed;\n\n  const ResponsiveButton({\n    super.key,\n    required this.label,\n    required this.onPressed,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return TextButton(\n      onPressed: onPressed,\n      child: Text(\n        label,\n        style: const TextStyle(\n          color: Colors.white,\n          fontSize: 16,\n          fontWeight: FontWeight.w600,\n        ),\n      ),\n    );\n  }\n}\n"
        }
    ]
}